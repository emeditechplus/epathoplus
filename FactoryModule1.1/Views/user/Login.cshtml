@model FactoryModel.LoginViewModel
@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
}
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/0.8.2/css/flag-icon.min.css">
   

    <script type='text/javascript'>
        $(function () {
            $('.selectpicker').selectpicker();
        });
    </script>

    <script src="~/Scripts/jquery-3.3.1.min.js"></script>
    <script type="text/javascript">
        function GotoDashboard() {
            //  var finyr = $("#ddlfinyr").val();
            var finyr = $("#ddlfinyr option:selected").text()

            $.ajax({
                type: "POST",
                url: "/User/Getfinyr",
                data: { finyr: finyr },
                dataType: "json",
                success: function (response) {
                    //alert(response.d);
                    window.location.href = "/Masterfac/Dashboard";
                },
                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });


        }
    </script>
</head>
<style>


    #CaptchaInputText {
        text-transform: uppercase;
    }
</style>
@using (Html.BeginForm("Login", "User", FormMethod.Post))
{
    @Html.AntiForgeryToken()



    <div class="row ">
        <div class="col-lg-3 col-md-4 col-sm-12 col-xs-12 pd-0 left-bg-light">

            <div class=" client-logo margin-top20 ">
                <img src="~/Images/logo-dummy.png" alt="" />
            </div>

            <div class="company-content">

                <h3 class="title">Company Name</h3>
                <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries,</p>

            </div>

        </div>
        <div class="col-lg-9 col-md-8 col-sm-12 col-xs-12 pt-20 login">
            <div class="row ">

                <div class="col-lg-7 col-md-7 col-sm-12 col-xs-12 ">
                    <h1>LoginRolesPage</h1>
                </div>

                <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                    <div class="form-group row pt-20">
                        <label for="exampleFormControlSelect1" class="col-lg-4 col-md-4 col-sm-2 col-xs-2 lang">Language </label>
                        <div class="col-lg-8 col-md-8 col-sm-10 col-xs-10">
                            <select class="selectpicker form-control" data-width="fit">
                                <option data-content='<span class="flag-icon flag-icon-us"></span> English'>English</option>
                                <option data-content='<span class="flag-icon flag-icon-mx"></span> Español'>Español</option>
                            </select>
                        </div>
                    </div>
                </div>

            </div>
           
            <div class="col-lg-12">
                <div class="login-panel">


                    @if (ViewBag.errormessage == null || ViewBag.errormessage == "Entered Invalid Username and Password")
                    {

                        <form class="form-inline" action="">
                            @if (ViewBag.errormessage != null)
                            {
                                <p class="alert alert-danger" id="successMessage">@ViewBag.errormessage</p>
                            }
                            <div class="form-group">
                                <div class="col-md-12 col-xs-12">
                                    <h3>Login</h3>
                                </div>


                            </div>
                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                            <div class="form-group">

                                <div class="col-md-12 col-xs-12">
                                    @Html.LabelFor(model => model.Username)
                                    @Html.TextBoxFor(model => model.Username, new { @class = "form-control", @maxlength = 20 })
                                    @Html.ValidationMessageFor(model => model.Username, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="form-group">

                                <div class="col-md-12 col-xs-12">
                                    @Html.LabelFor(model => model.Password)
                                    @Html.PasswordFor(model => model.Password, new { @class = "form-control", @maxlength = 30 })
                                    @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-md-offset-0 col-md-12 text-center">
                                    <button type="submit" id="Login" class="btn btn-primary" value="Sign in To Account" style="width:150px;height:40px">Login</button>
                                </div>
                            </div>

                        </form>
                    }
                    else if (@ViewBag.errormessage == "successful")
                    {
                        <form action="">
                            <div class="form-group">
                                <div class="col-md-12 col-xs-12">
                                    @Html.Label("Finyear")
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-12 col-xs-12">
                                    <select id="ddlfinyr" class="form-control" style="width:150px;">
                                        @{var j = ViewBag.finyr;}
                                        @{
                                            foreach (var i in j)
                                            {
                                                <option value=" @i.id "> @i.FinYear</option>
                                            }
                                        }
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">

                                <div class="col-md-12 col-xs-12">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-offset-0 col-md-12">
                                    <input type="button" id="finyr" class="btn btn-primary" value="Proceed" onclick="GotoDashboard();" style="width:150px;height:40px" />
                                </div>
                            </div>
                        </form>
                    }
                </div>
                <div class="login-panel">


                    <form class="" action="">
                        
                            <div class="col-md-12 col-xs-12">
                                <div class="form-group">
                                    <label for="">Centers</label>
                                    <select class="selectpicker form-control " data-width="fit">
                                        <option>Centers</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                </div>
                            </div>
                       

                            <div class="col-md-12 col-xs-12">
                                <div class="form-group">
                                    <label for="">Roles</label>
                                    <select class="selectpicker form-control" data-width="fit">
                                        <option>Roles</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                    </select>
                                </div>
                            </div>

                        
                            <div class=" col-md-12 text-center">
                                <div class="form-group">
                                    <button type="submit" id="submit" class="btn btn-primary" style="width:150px;height:40px" value="Sign in To Account">Submit</button>
                                </div>
                            </div>

                    </form>
                </div>
                <div class="col-md-12">
                    <div class="copyright">
                        Powered By : Emeditech Plus
                    </div>
                </div>
            </div>

        </div>
    </div>


}


